<!DOCTYPE html>
<html>
  <head>
    <title>one year present for nick</title>
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        color: white;
        text-align: center;
        background-image: url('./images/littleprince.jpg');
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        background-attachment: fixed;
        overflow: hidden; /* prevent body scroll */
      }
      p {
        position: fixed;
        top: 180px;
        left: 50%;
        transform: translateX(-50%);
        color: #FFFFC5;
        width: 90%;
        text-align: center;
        z-index: 10;
      }
      .spacer {
        height: 300px; /* same height as fixed <p> space */
      }
      button#playAllBtn {
        display: block;
        margin: 0 auto 20px;
        padding: 12px 24px;
        font-size: 16px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        background-color: #FFFFC5;
        color: #222;
        user-select: none;
        max-width: 300px;
      }
      main {
        position: fixed;
        top: 250px; /* below spacer */
        left: 0;
        right: 0;
        bottom: 0;
        overflow-y: auto;
        padding: 20px;
        box-sizing: border-box;
      }
      h4 {
        margin: 20px 0 10px;
        padding: 12px;
      }
      audio {
        width: 100%;
        max-width: 500px;
        outline: none;
      }
    </style>
  </head>
  <body>
    <p>
      hi nick, this is for you. happy one year, i hope this makes the rest of
      long distance a little easier. i love you. -vivian
    </p>

    <div class="spacer"></div>

    <main>
      <button id="playAllBtn">Play All Chapters</button>

      <h4>chapter one</h4>
      <audio controls>
        <source src="chapters/one.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter two</h4>
      <audio controls>
        <source src="chapters/two.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter three</h4>
      <audio controls>
        <source src="chapters/three.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter four</h4>
      <audio controls>
        <source src="chapters/four.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter five</h4>
      <audio controls>
        <source src="chapters/five.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter six</h4>
      <audio controls>
        <source src="chapters/six.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter seven</h4>
      <audio controls>
        <source src="chapters/seven.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter eight</h4>
      <audio controls>
        <source src="chapters/eight.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter nine</h4>
      <audio controls>
        <source src="chapters/nine.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter ten</h4>
      <audio controls>
        <source src="chapters/ten.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter eleven</h4>
      <audio controls>
        <source src="chapters/eleven.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter twelve</h4>
      <audio controls>
        <source src="chapters/twelve.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter thirteen</h4>
      <audio controls>
        <source src="chapters/thirteen.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter fourteen</h4>
      <audio controls>
        <source src="chapters/fourteen.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter fifteen</h4>
      <audio controls>
        <source src="chapters/fifteen.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter sixteen</h4>
      <audio controls>
        <source src="chapters/sixteen.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter seventeen</h4>
      <audio controls>
        <source src="chapters/seventeen.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter eighteen</h4>
      <audio controls>
        <source src="chapters/eighteen.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter nineteen</h4>
      <audio controls>
        <source src="chapters/nineteen.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter twenty</h4>
      <audio controls>
        <source src="chapters/twenty.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter twenty one</h4>
      <audio controls>
        <source src="chapters/twentyone.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter twenty two</h4>
      <audio controls>
        <source src="chapters/twentytwo.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter twenty three</h4>
      <audio controls>
        <source src="chapters/twentythree.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter twenty four</h4>
      <audio controls>
        <source src="chapters/twentyfour.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter twenty five</h4>
      <audio controls>
        <source src="chapters/twentyfive.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter twenty six</h4>
      <audio controls>
        <source src="chapters/twentysix.m4a" type="audio/mp4" />
      </audio>

      <h4>chapter twenty seven</h4>
      <audio controls>
        <source src="chapters/twentyseven.m4a" type="audio/mp4" />
      </audio>

      <h4>epilogue</h4>
      <audio controls>
        <source src="chapters/epilogue.m4a" type="audio/mp4" />
      </audio>

    </main>

    <script>
      const playAllBtn = document.getElementById("playAllBtn");
      const audios = Array.from(document.querySelectorAll("audio"));
      let current = 0;

      function playNext() {
        if (current < audios.length) {
          audios[current].play();
          audios[current].onended = () => {
            current++;
            playNext();
          };
        } else {
          current = 0;
        }
      }

      playAllBtn.addEventListener("click", () => {
        if (audios.length === 0) return;
        audios.forEach((audio) => {
          audio.pause();
          audio.currentTime = 0;
        });
        current = 0;
        playNext();
      });
    </script>
  </body>
</html>
